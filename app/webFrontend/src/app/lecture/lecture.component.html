<md-card class="lecture-card" *ngIf="lecture">
  <md-menu #lectureMenu="mdMenu">
    <button md-menu-item (click)="editLecture(lecture)">
      <md-icon>edit</md-icon>
      Edit
    </button>
    <button md-menu-item (click)="duplicateLecture(lecture)">
      <md-icon>content_copy</md-icon>
      Duplicate
    </button>
    <button md-menu-item (click)="deleteLecture(lecture)">
      <md-icon>delete</md-icon>
      Delete
    </button>
  </md-menu>

  <button class="lecture-menu" md-icon-button [mdMenuTriggerFor]="lectureMenu"
          *ngIf="userService.isAdmin() || userService.isTeacher()">
    <md-icon>more_vert</md-icon>
  </button>

  <md-card-header>
    <md-card-title><h2>{{lecture.name}}</h2></md-card-title>
  </md-card-header>

  <md-card-content>
    <p>{{lecture.description}}</p>
    <app-unit *ngIf="lecture.units" [units]="lecture.units"></app-unit>
    <p>Unit-Type: {{unitType}}</p>
    <app-unit-edit *ngIf="unitType && editMode"
                   [course]="course"
                   [lecture]="lecture"
                   [unitType]="unitType"
                   (onDone)="onEditDone($event)">
    </app-unit-edit>
  </md-card-content>
  <md-card-actions *ngIf="(userService.isAdmin() || userService.isTeacher()) && !editMode">
    <app-unit-menu (onAddUnit)="onAddUnit($event)"></app-unit-menu>
  </md-card-actions>
</md-card>
